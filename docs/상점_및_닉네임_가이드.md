# 상점 판매 예정 아이템 & 닉네임 가이드

## 1. 상점 판매 예정 아이템

상점에서 판매할 예정인 아이템은 다음과 같습니다.

### 1.1 프로필 꾸미기

- **구성**: 동그란 프로필 사진 **주변**에 장식용 이미지(프레임/테두리/스티커 등)를 추가
- **표시 위치**: 지갑·승자 리스트 등 프로필 아바타가 노출되는 곳
- **구현 시 고려**
  - 프로필 레이어: 기본 원형 프로필 위에 장식 레이어를 겹쳐 표시
  - 상점에서 “프로필 프레임 A/B/C”처럼 아이템별 asset ID 보유 여부를 서버에 저장
  - 클라이언트는 사용 중인 프레임 ID를 받아 해당 이미지 URL을 프로필 주변에 표시

### 1.2 닉네임 효과

- **구성**: 닉네임 텍스트에 다양한 효과 적용 (그라데이션, 글로우, 이모지/뱃지 옆 표시 등)
- **표시 위치**: 닉네임이 노출되는 모든 곳 (지갑, 승자 리스트, 트렌드 등)
- **구현 시 고려**
  - 닉네임 문자열 + “효과 ID”를 함께 저장
  - 효과 ID별로 CSS 클래스 또는 인라인 스타일(색상·그림자 등) 매핑
  - 상점에서 “닉네임 효과 1/2/3” 구매 시 해당 효과 ID 부여

---

## 2. 닉네임 금지어 처리 (일본어·영어 기준) 의견

닉네임은 2자 이상 10자 이하, 중복 불가로 제한되어 있으며, **금지어(비속어·혐오·광고·스팸 등)** 는 아래처럼 처리하는 것을 권장합니다.

### 2.1 처리 방식 제안

| 방식 | 설명 | 장점 | 단점 |
|------|------|------|------|
| **서버 검증** | 닉네임 저장/변경 시 서버에서 금지어 리스트와 매칭 | 일관성, 리스트 수정이 쉬움, 클라이언트 우회 불가 | 서버 구현 필요 |
| **블랙리스트** | 금지어/패턴 목록을 DB 또는 파일로 보유하고, 입력 문자열에 포함 여부 검사 | 구현 단순, 유지보수 용이 | 신조어·은어 대응이 느림 |
| **화이트리스트** | 허용 문자만 통과 (예: 한글/영문/숫자 일부) | 비속어 일부 차단에 도움 | 표현 자유도 감소, 일본어 한자·가나 조합 관리 부담 |
| **후처리 신고** | 금지어를 실시간으로 다 막지 않고, 신고 시 검토 후 삭제/제재 | 초기 개발 부담 적음 | 악성 닉네임이 잠시 노출됨 |

**권장**: **서버에서 블랙리스트 검증**을 기본으로 두고, 필요 시 **신고·검토 후 삭제**를 보완하는 방식.

### 2.2 일본어·영어 금지어 리스트 관리 시 유의점

1. **정규화**
   - **영어**: 소문자로 통일 후 비교 (e.g. `toLowerCase()`).
   - **일본어**: 전각/반각 통일(숫자·영자), 필요 시 가나 정규화(히라가나↔카타카나). 이모지·공백 제거 후 검사하면 관리가 쉬움.

2. **부분 일치**
   - 단어 단위만 막을지, **부분 문자열도** 막을지 정책 결정.
   - 예: "bad"를 막으면 "badboy"도 막을지. 게임/커뮤니티 성격에 따라 “전체 문자열 포함 시 금지”로 두는 경우가 많음.

3. **리스트 소스**
   - **영어**: 비속어·혐오용어 리스트는 오픈소스(예: bad-words, shabadaba 등)를 참고해 서비스에 맞게 가공.
   - **일본어**: 비속어·혐오 표현·차별 용어 리스트를 직접 구축하거나, 변형(도치·특수문자 삽입)을 고려한 패턴을 추가.

4. **우회 패턴**
   - 숫자/기호 삽입 (b4d, b.a.d), 반복 (baaaad), 유사 문자(0/O, 1/l) 등은 **패턴화**하거나, 블랙리스트에 변형까지 넣어 관리.
   - 과도한 우회 대응은 오탐을 부를 수 있으므로, **신고 기반 후처리**와 병행하는 것이 좋음.

5. **다국어**
   - 일본어·영어를 동시에 지원할 경우, **언어별 블랙리스트**를 두거나, 하나의 리스트에 두 언어를 모두 넣고 정규화 규칙만 언어별로 적용.

### 2.3 API 예시 (서버 구현 시)

- `POST /user/nickname`  
  - Body: `{ "nickname": "희망닉네임" }`  
  - 서버: 길이·금지어·중복 검사 후 저장 또는 400 + 사유 반환.
- `GET /user/nickname/check?q=희망닉네임`  
  - 중복 여부 + (선택) 금지어 포함 여부를 응답해, 클라이언트에서 “닉네임 만들기” 확인 전에 호출.

금지어에 걸렸을 때는 **“사용할 수 없는 닉네임입니다”** 정도의 공통 메시지로 처리하고, 금지어 목록 자체는 클라이언트에 노출하지 않는 것이 좋습니다.
